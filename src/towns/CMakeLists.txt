add_library(towns towns.h towns.cpp townsio.cpp townsio.h townsthread.cpp townsthread.h)
target_link_libraries(towns cpu device inout ioram ramrom townscdrom townssound townsmem townskeyboard townsrtc townspic townsdmac townscrtc townsrender townsfdc d77 townsdef outside_world)
target_include_directories(towns PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})

add_subdirectory(townsdef)
add_subdirectory(cdrom)
add_subdirectory(ioram)
add_subdirectory(memory)
add_subdirectory(crtc)
add_subdirectory(render)
add_subdirectory(keyboard)
add_subdirectory(fdc)
add_subdirectory(pic)
add_subdirectory(rtc)
add_subdirectory(dmac)
add_subdirectory(sound)
add_subdirectory(outside_world)
